{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport { ref, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nimport Sidebar from './components/Sidebar.vue';\nimport Header from './components/Header.vue';\n\n// Reactive state for user authentication status\n\nexport default {\n  __name: 'App',\n  setup: function setup(__props, _ref) {\n    var __expose = _ref.expose;\n    __expose();\n    var isLoggedIn = ref(false);\n    var sidebarOpen = ref(true);\n    var router = useRouter();\n\n    // Function to check if the user is authenticated\n    var checkAuth = function checkAuth() {\n      var token = localStorage.getItem('authToken'); // Replace 'authToken' with your actual key\n      isLoggedIn.value = !!token; // Set to true if token exists\n      if (!isLoggedIn.value) {\n        router.push('/login'); // Redirect to login if not authenticated\n      }\n    };\n\n    // Call checkAuth when the component is mounted\n    onMounted(function () {\n      checkAuth();\n    });\n\n    // Function to toggle the sidebar\n    var toggleSidebar = function toggleSidebar() {\n      sidebarOpen.value = !sidebarOpen.value;\n    };\n    var __returned__ = {\n      isLoggedIn: isLoggedIn,\n      sidebarOpen: sidebarOpen,\n      router: router,\n      checkAuth: checkAuth,\n      toggleSidebar: toggleSidebar,\n      ref: ref,\n      onMounted: onMounted,\n      get useRouter() {\n        return useRouter;\n      },\n      Sidebar: Sidebar,\n      Header: Header\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","useRouter","Sidebar","Header","isLoggedIn","sidebarOpen","router","checkAuth","token","localStorage","getItem","value","push","toggleSidebar"],"sources":["C:/Inventory-Clinic-MCC/frontend/src/App.vue"],"sourcesContent":["<template>\r\n  <div class=\"flex h-screen bg-gray-100\">\r\n    <!-- Conditional rendering based on user login status -->\r\n    <Sidebar v-if=\"isLoggedIn\" :is-open=\"sidebarOpen\" @toggle-sidebar=\"toggleSidebar\" />\r\n    <div :class=\"isLoggedIn ? 'flex-1 flex flex-col overflow-hidden' : 'flex-1 flex justify-center items-center'\">\r\n      <Header v-if=\"isLoggedIn\" @toggle-sidebar=\"toggleSidebar\" />\r\n      <main class=\"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100\">\r\n        <router-view></router-view>\r\n      </main>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport Sidebar from './components/Sidebar.vue'\r\nimport Header from './components/Header.vue'\r\n\r\n// Reactive state for user authentication status\r\nconst isLoggedIn = ref(false)\r\nconst sidebarOpen = ref(true)\r\nconst router = useRouter()\r\n\r\n// Function to check if the user is authenticated\r\nconst checkAuth = () => {\r\n  const token = localStorage.getItem('authToken') // Replace 'authToken' with your actual key\r\n  isLoggedIn.value = !!token // Set to true if token exists\r\n  if (!isLoggedIn.value) {\r\n    router.push('/login') // Redirect to login if not authenticated\r\n  }\r\n}\r\n\r\n// Call checkAuth when the component is mounted\r\nonMounted(() => {\r\n  checkAuth()\r\n})\r\n\r\n// Function to toggle the sidebar\r\nconst toggleSidebar = () => {\r\n  sidebarOpen.value = !sidebarOpen.value\r\n}\r\n</script>\r\n"],"mappings":";;AAcA,SAASA,GAAG,EAAEC,SAAS,QAAQ,KAAK;AACpC,SAASC,SAAS,QAAQ,YAAY;AACtC,OAAOC,OAAO,MAAM,0BAA0B;AAC9C,OAAOC,MAAM,MAAM,yBAAyB;;AAE5C;;;;;;;IACA,IAAMC,UAAU,GAAGL,GAAG,CAAC,KAAK,CAAC;IAC7B,IAAMM,WAAW,GAAGN,GAAG,CAAC,IAAI,CAAC;IAC7B,IAAMO,MAAM,GAAGL,SAAS,CAAC,CAAC;;IAE1B;IACA,IAAMM,SAAS,GAAG,SAAZA,SAASA,CAAA,EAAS;MACtB,IAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,EAAC;MAChDN,UAAU,CAACO,KAAK,GAAG,CAAC,CAACH,KAAK,EAAC;MAC3B,IAAI,CAACJ,UAAU,CAACO,KAAK,EAAE;QACrBL,MAAM,CAACM,IAAI,CAAC,QAAQ,CAAC,EAAC;MACxB;IACF,CAAC;;IAED;IACAZ,SAAS,CAAC,YAAM;MACdO,SAAS,CAAC,CAAC;IACb,CAAC,CAAC;;IAEF;IACA,IAAMM,aAAa,GAAG,SAAhBA,aAAaA,CAAA,EAAS;MAC1BR,WAAW,CAACM,KAAK,GAAG,CAACN,WAAW,CAACM,KAAK;IACxC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}