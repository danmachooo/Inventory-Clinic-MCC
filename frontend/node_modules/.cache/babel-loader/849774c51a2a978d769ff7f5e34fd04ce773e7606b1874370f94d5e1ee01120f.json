{"ast":null,"code":"import _toConsumableArray from \"C:/Inventory-Clinic-MCC/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.some.js\";\nimport \"core-js/modules/es.date.now.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.some.js\";\nfunction memo(getDeps, fn, opts) {\n  var _opts$initialDeps;\n  var deps = (_opts$initialDeps = opts.initialDeps) !== null && _opts$initialDeps !== void 0 ? _opts$initialDeps : [];\n  var result;\n  return function () {\n    var _a, _b, _c, _d;\n    var depTime;\n    if (opts.key && ((_a = opts.debug) == null ? void 0 : _a.call(opts))) depTime = Date.now();\n    var newDeps = getDeps();\n    var depsChanged = newDeps.length !== deps.length || newDeps.some(function (dep, index) {\n      return deps[index] !== dep;\n    });\n    if (!depsChanged) {\n      return result;\n    }\n    deps = newDeps;\n    var resultTime;\n    if (opts.key && ((_b = opts.debug) == null ? void 0 : _b.call(opts))) resultTime = Date.now();\n    result = fn.apply(void 0, _toConsumableArray(newDeps));\n    if (opts.key && ((_c = opts.debug) == null ? void 0 : _c.call(opts))) {\n      var depEndTime = Math.round((Date.now() - depTime) * 100) / 100;\n      var resultEndTime = Math.round((Date.now() - resultTime) * 100) / 100;\n      var resultFpsPercentage = resultEndTime / 16;\n      var pad = function pad(str, num) {\n        str = String(str);\n        while (str.length < num) {\n          str = \" \" + str;\n        }\n        return str;\n      };\n      console.info(\"%c\\u23F1 \".concat(pad(resultEndTime, 5), \" /\").concat(pad(depEndTime, 5), \" ms\"), \"\\n            font-size: .6rem;\\n            font-weight: bold;\\n            color: hsl(\".concat(Math.max(0, Math.min(120 - 120 * resultFpsPercentage, 120)), \"deg 100% 31%);\"), opts == null ? void 0 : opts.key);\n    }\n    (_d = opts == null ? void 0 : opts.onChange) == null ? void 0 : _d.call(opts, result);\n    return result;\n  };\n}\nfunction notUndefined(value, msg) {\n  if (value === void 0) {\n    throw new Error(\"Unexpected undefined\".concat(msg ? \": \".concat(msg) : \"\"));\n  } else {\n    return value;\n  }\n}\nvar approxEqual = function approxEqual(a, b) {\n  return Math.abs(a - b) < 1;\n};\nvar debounce = function debounce(targetWindow, fn, ms) {\n  var timeoutId;\n  return function () {\n    var _this = this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    targetWindow.clearTimeout(timeoutId);\n    timeoutId = targetWindow.setTimeout(function () {\n      return fn.apply(_this, args);\n    }, ms);\n  };\n};\nexport { approxEqual, debounce, memo, notUndefined };","map":{"version":3,"names":["memo","getDeps","fn","opts","_opts$initialDeps","deps","initialDeps","result","_a","_b","_c","_d","depTime","key","debug","call","Date","now","newDeps","depsChanged","length","some","dep","index","resultTime","apply","_toConsumableArray","depEndTime","Math","round","resultEndTime","resultFpsPercentage","pad","str","num","String","console","info","concat","max","min","onChange","notUndefined","value","msg","Error","approxEqual","a","b","abs","debounce","targetWindow","ms","timeoutId","_this","_len","arguments","args","Array","_key","clearTimeout","setTimeout"],"sources":["../../src/utils.ts"],"sourcesContent":["export type NoInfer<A extends any> = [A][A extends any ? 0 : never]\n\nexport type PartialKeys<T, K extends keyof T> = Omit<T, K> & Partial<Pick<T, K>>\n\nexport function memo<TDeps extends ReadonlyArray<any>, TResult>(\n  getDeps: () => [...TDeps],\n  fn: (...args: NoInfer<[...TDeps]>) => TResult,\n  opts: {\n    key: false | string\n    debug?: () => boolean\n    onChange?: (result: TResult) => void\n    initialDeps?: TDeps\n  },\n) {\n  let deps = opts.initialDeps ?? []\n  let result: TResult | undefined\n\n  return (): TResult => {\n    let depTime: number\n    if (opts.key && opts.debug?.()) depTime = Date.now()\n\n    const newDeps = getDeps()\n\n    const depsChanged =\n      newDeps.length !== deps.length ||\n      newDeps.some((dep: any, index: number) => deps[index] !== dep)\n\n    if (!depsChanged) {\n      return result!\n    }\n\n    deps = newDeps\n\n    let resultTime: number\n    if (opts.key && opts.debug?.()) resultTime = Date.now()\n\n    result = fn(...newDeps)\n\n    if (opts.key && opts.debug?.()) {\n      const depEndTime = Math.round((Date.now() - depTime!) * 100) / 100\n      const resultEndTime = Math.round((Date.now() - resultTime!) * 100) / 100\n      const resultFpsPercentage = resultEndTime / 16\n\n      const pad = (str: number | string, num: number) => {\n        str = String(str)\n        while (str.length < num) {\n          str = ' ' + str\n        }\n        return str\n      }\n\n      console.info(\n        `%c⏱ ${pad(resultEndTime, 5)} /${pad(depEndTime, 5)} ms`,\n        `\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(\n              0,\n              Math.min(120 - 120 * resultFpsPercentage, 120),\n            )}deg 100% 31%);`,\n        opts?.key,\n      )\n    }\n\n    opts?.onChange?.(result)\n\n    return result\n  }\n}\n\nexport function notUndefined<T>(value: T | undefined, msg?: string): T {\n  if (value === undefined) {\n    throw new Error(`Unexpected undefined${msg ? `: ${msg}` : ''}`)\n  } else {\n    return value\n  }\n}\n\nexport const approxEqual = (a: number, b: number) => Math.abs(a - b) < 1\n\nexport const debounce = (\n  targetWindow: Window & typeof globalThis,\n  fn: Function,\n  ms: number,\n) => {\n  let timeoutId: number\n  return function (this: any, ...args: Array<any>) {\n    targetWindow.clearTimeout(timeoutId)\n    timeoutId = targetWindow.setTimeout(() => fn.apply(this, args), ms)\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}